<html>
    <head>
        <meta charset="utf-8">
        <link href="./static/gerry.css" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        <link href="../lib/css/d3.geomap.css" rel="stylesheet">
        <script src="./node_modules/d3/build/d3.js"></script>
        <script src="./node_modules/d3-geo-projection/build/d3-geo-projection.js"></script>
        <script src="./node_modules/topojson/dist/topojson.js"></script>
        <script src="./lib/js/d3.geomap.js"></script>
        <script src="./node_modules/base-64/base64.js"></script>
    </head>
    <body>
        <div id='main' class='container'>
            <div class="row m-4">
                <h1>Measures of partisan gerrymandering</h1>
            </div>
            <div class='row m-4'>
                <div class='col-6'>
                    <div class="row">
                        <h2>US States By Calculated Metric</h2>
                        <div id="map"></div>
                        <span>Excluded states shown in grey.</span>
                    </div>
                </div>
                <div class='col-6'>
                    <form>
                        <div class='code'> 
                            var gerry_metric = function(options) { <br>
                            <textarea name="metric-function" id="metric-function" rows=30 cols=80></textarea><br>
                        &nbsp;&nbsp;return return_val;<br>
                            }
                        </div>
                        <div class="text-center">
                            <button type="button" id='calculate-metric' class="btn btn-primary">Calculate My Metric</button>
                        </div>
                        <span>
                            <p>The preceding JavaScript function should calculate a metric of partisan gerrymandering, 
                                and set return_obj to an object containing 1) that value, 2) true/false for whether the state should be evaluated, and 3) an estimate for the number of US House seats that were flipped to the other party through gerrymandering.
                            </p>
                        <p>Example return object:</p></span>
                        <span class='code'>
                        var return_obj = {<br>
                        &nbsp;&nbsp;metric: 1234,<br>
                        &nbsp;&nbsp;include: true,<br>
                        &nbsp;&nbsp;seats_flipped: 2<br>
                        }
                        </span>
                    </form>
                </div>
            </div>
            <div id='state-data' class='row'>
                <div>
                    <h2>US States, Ranked by Absolute Value of Calculated Metric</h2>
                </div>
                <table id='states-table' class='table table-striped'>
                    <thead>
                        <th>State</th>
                        <th>Metric</th>
                        <th>US House Seats Flipped</th>
                        <th>Total US House Districts</th>
                        <th>Map</th>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div id='notes' class='row'>
                <p>Notes:</p>
                <ul>
                    <li>Data is from 2016 US House Election Results</li>
                    <li>ADD DISCLAIMER ABOUT SECURITY</li>
                </ul>
            </div>
        </div>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.js"></script>
        <script type="text/javascript" src="./static/gerry.js"></script>
    </body>
</html>